{"ast":null,"code":"var _jsxFileName = \"/home/ghto/Desktop/Real-Estate-Frontend2.0/src/components/properties/index.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport PropertyItem from './property-item';\nimport InnerPageBanner from '../layout/InnerPageBanner';\nimport AddProperty from './add-property';\nimport './properties.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Properties extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onAddClick = e => {\n      e.preventDefault();\n      const inquiry = {\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        email: this.state.email,\n        subject: this.state.subject,\n        message: this.state.message\n      };\n      axios.post(\"/api/add\", inquiry).then(res => {\n        this.setState({\n          firstname: \"\",\n          lastname: \"\",\n          email: \"\",\n          subject: \"\",\n          message: \"\"\n        });\n        this.props.history.push(\"/\");\n      }).catch(err => {\n        console.log(\"Error in Inquiry!\");\n      });\n    };\n\n    this.state = {\n      data: [],\n      name: \"\",\n      description: \"\",\n      address: \"\",\n      price: null,\n      square: null,\n      number_of_bedrooms: null,\n      number_of_bathrooms: null,\n      number_of_car_parking: null\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"/api/properties\").then(response => {\n      this.setState({\n        data: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  onDeleteClick(id) {\n    axios.delete(\"/api/properties/\" + id).then(res => {\n      this.props.history.push(\"/dashboard\");\n    }).catch(err => {\n      console.log(\"Error from delete\" + err);\n    });\n  }\n\n  render() {\n    const data = this.state.data;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(InnerPageBanner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Properties\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"card-list\",\n        children: data.map(el => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(PropertyItem, { ...el,\n            onDeleteClick: this.onDeleteClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)\n        }, el.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddProperty, { ...this.state,\n        onAddClick: this.onAddClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Properties;","map":{"version":3,"sources":["/home/ghto/Desktop/Real-Estate-Frontend2.0/src/components/properties/index.js"],"names":["React","Component","axios","PropertyItem","InnerPageBanner","AddProperty","Properties","constructor","props","onAddClick","e","preventDefault","inquiry","firstname","state","lastname","email","subject","message","post","then","res","setState","history","push","catch","err","console","log","data","name","description","address","price","square","number_of_bedrooms","number_of_bathrooms","number_of_car_parking","componentDidMount","get","response","error","onDeleteClick","id","delete","render","map","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from \"axios\";\n\nimport PropertyItem from './property-item'\nimport InnerPageBanner from '../layout/InnerPageBanner'\nimport AddProperty from './add-property'\n\nimport './properties.css'\n\nclass Properties extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      name: \"\",\n      description: \"\",\n      address: \"\",\n      price: null,\n      square: null,\n      number_of_bedrooms: null,\n      number_of_bathrooms: null,\n      number_of_car_parking: null,\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(\"/api/properties\")\n      .then((response) => {\n        this.setState({ data: response.data });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  onAddClick = (e) => {\n    e.preventDefault();\n\n    const inquiry = {\n      firstname: this.state.firstname,\n      lastname: this.state.lastname,\n      email: this.state.email,\n      subject: this.state.subject,\n      message: this.state.message,\n    };\n\n    axios\n      .post(\"/api/add\", inquiry)\n      .then((res) => {\n        this.setState({\n          firstname: \"\",\n          lastname: \"\",\n          email: \"\",\n          subject: \"\",\n          message: \"\",\n        });\n        this.props.history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(\"Error in Inquiry!\");\n      });\n  };\n\n  onDeleteClick(id) {\n    axios\n      .delete(\"/api/properties/\" + id)\n      .then((res) => {\n        this.props.history.push(\"/dashboard\");\n      })\n      .catch((err) => {\n        console.log(\"Error from delete\" + err);\n      });\n  }\n\n  render() {\n    const data = this.state.data;\n    return (\n      <>\n        <InnerPageBanner/>\n        <h1>Properties</h1>\n        <ul className=\"card-list\">\n          {\n            data.map(el => (\n              <li key={el.id}>\n                <PropertyItem {...el} onDeleteClick={this.onDeleteClick} />\n              </li>\n            ))\n          }\n        </ul>\n        <AddProperty {...this.state} onAddClick={this.onAddClick}/>\n      </>\n    )\n  }\n}\n\nexport default Properties;"]},"metadata":{},"sourceType":"module"}