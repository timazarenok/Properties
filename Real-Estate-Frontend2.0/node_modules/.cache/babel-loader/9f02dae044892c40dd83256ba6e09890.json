{"ast":null,"code":"var _jsxFileName = \"/home/ghto/Desktop/Properties/Real-Estate-Frontend2.0/src/components/properties/edit-property/index.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport './edit-property.css';\nimport InnerPageBanner from '../../layout/InnerPageBanner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass EditProperty extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      const {\n        name,\n        value\n      } = e.target.value;\n      this.setState({\n        [name]: value\n      }, () => this.validateField(name, value));\n      console.log(this.state.va);\n    };\n\n    this.onAddClick = e => {\n      e.preventDefault();\n      const property = {\n        name: this.state.name,\n        lastname: this.state.lastname,\n        description: this.state.description,\n        address: this.state.address,\n        price: this.state.price,\n        square: this.state.square,\n        number_of_bedrooms: this.state.number_of_bedrooms,\n        number_of_bathrooms: this.state.number_of_bathrooms,\n        number_of_car_parking: this.state.number_of_car_parking\n      };\n      axios.put(`/api/properties/property/${this.props.match.params.id}/edit`, property).then(res => {\n        this.props.history.push(\"/property/\" + this.props.match.params.id);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      description: \"\",\n      address: \"\",\n      price: 0,\n      square: 0,\n      number_of_bedrooms: 0,\n      number_of_bathrooms: 0,\n      number_of_car_parking: 0,\n      valid: {\n        price: false,\n        square: false,\n        number_of_bedrooms: false,\n        number_of_bathrooms: false,\n        number_of_car_parking: false\n      },\n      formValid: false\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"/api/properties/property/\" + this.props.match.params.id).then(response => {\n      const {\n        name,\n        description,\n        address,\n        price,\n        square,\n        number_of_bedrooms,\n        number_of_bathrooms,\n        number_of_car_parking\n      } = response.data;\n      this.setState({\n        name: name,\n        description: description,\n        address: address,\n        price: price,\n        square: square,\n        number_of_bedrooms: number_of_bedrooms,\n        number_of_bathrooms: number_of_bathrooms,\n        number_of_car_parking: number_of_car_parking\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  validateField(field, value) {\n    const data = [...this.state.valid];\n    const priceValid = data.price;\n    const bedroomsValid = data.number_of_bedrooms;\n    const bathroomsValid = data.number_of_bathrooms;\n    const carparkingValid = data.number_of_car_parking;\n    const squareValid = data.square;\n\n    switch (field) {\n      case 'price':\n        priceValid = value.length >= 0;\n        break;\n\n      case 'number_of_bedrooms':\n        bedroomsValid = value.length >= 0;\n        break;\n\n      case 'number_of_bathrooms':\n        bathroomsValid = value.length >= 0;\n        break;\n\n      case 'number_of_car_parking':\n        carparkingValid = value.length >= 0;\n        break;\n\n      case 'square':\n        squareValid = value.length >= 0;\n        break;\n    }\n\n    this.setState({\n      valid: {\n        price: priceValid,\n        square: squareValid,\n        number_of_bedrooms: bedroomsValid,\n        number_of_bathrooms: bathroomsValid,\n        number_of_car_parking: carparkingValid\n      }\n    });\n  }\n\n  validateForm() {\n    const {\n      price,\n      square,\n      number_of_bedrooms,\n      number_of_bathrooms,\n      number_of_car_parking\n    } = this.state.valid;\n    this.setState({\n      formValid: price && square && number_of_bedrooms && number_of_bathrooms && number_of_car_parking\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(InnerPageBanner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"contact_form py-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"heading text-capitalize mb-5 pb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), \" \\u041E\\u0431\\u044A\\u0435\\u043A\\u0442\\u0430\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"position cont\",\n              children: \"\\u041E\\u0431\\u044A\\u0435\\u043A\\u0442\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            noValidate: true,\n            onSubmit: this.onAddClick,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls w3ls-left\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: this.state.name,\n                onChange: this.onChange,\n                className: \"name\",\n                name: \"name\",\n                id: \"name\",\n                placeholder: \"\\u0418\\u043C\\u044F\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls w3ls-rght\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: this.state.address,\n                onChange: this.onChange,\n                className: \"name\",\n                name: \"address\",\n                placeholder: \"\\u0410\\u0434\\u0440\\u0435\\u0441\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls w3ls-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"text-muted\",\n                children: \"\\u0426\\u0435\\u043D\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: this.state.price,\n                onChange: this.onChange,\n                className: \"number\",\n                name: \"price\",\n                id: \"price\",\n                placeholder: \"\\u0446\\u0435\\u043D\\u0430\",\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls w3ls-rght\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"text-muted\",\n                children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0441\\u043F\\u0430\\u043B\\u0435\\u043D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: this.state.number_of_bedrooms,\n                onChange: this.onChange,\n                className: \"number\",\n                name: \"number_of_bedrooms\",\n                id: \"number_of_bedrooms\",\n                placeholder: \"\\u043A\\u043E\\u043B-\\u0432\\u043E \\u0441\\u043F\\u0430\\u043B\\u0435\\u043D\",\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls w3ls-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"text-muted\",\n                children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043F\\u0430\\u0440\\u043A\\u043E\\u0432\\u043E\\u0447\\u043D\\u044B\\u0445 \\u043C\\u0435\\u0441\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: this.state.number_of_car_parking,\n                onChange: this.onChange,\n                className: \"number\",\n                name: \"number_of_car_parking\",\n                id: \"number_of_car_parking\",\n                placeholder: \"\\u043F\\u0430\\u0440\\u043A\\u043E\\u0432\\u043E\\u0447\\u043D\\u044B\\u0435 \\u043C\\u0435\\u0441\\u0442\\u0430\",\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls w3ls-rght\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"text-muted\",\n                children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0432\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043A\\u043E\\u043C\\u043D\\u0430\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: this.state.number_of_bathrooms,\n                onChange: this.onChange,\n                className: \"number\",\n                name: \"number_of_bathrooms\",\n                id: \"number_of_bathrooms\",\n                placeholder: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0432\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043A\\u043E\\u043C\\u043D\\u0430\\u0442\",\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls w3ls-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"text-muted\",\n                children: \"\\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: this.state.square,\n                onChange: this.onChange,\n                className: \"number\",\n                name: \"square\",\n                id: \"square\",\n                placeholder: \"\\u041F\\u043B\\u043E\\u0449\\u0430\\u0434\\u044C\",\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n                value: this.state.description,\n                onChange: this.onChange,\n                name: \"description\",\n                id: \"description\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-w3ls\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                disabled: !this.state.formValid,\n                value: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default EditProperty;","map":{"version":3,"sources":["/home/ghto/Desktop/Properties/Real-Estate-Frontend2.0/src/components/properties/edit-property/index.js"],"names":["React","Component","axios","InnerPageBanner","EditProperty","constructor","props","onChange","e","name","value","target","setState","validateField","console","log","state","va","onAddClick","preventDefault","property","lastname","description","address","price","square","number_of_bedrooms","number_of_bathrooms","number_of_car_parking","put","match","params","id","then","res","history","push","catch","err","valid","formValid","componentDidMount","get","response","data","error","field","priceValid","bedroomsValid","bathroomsValid","carparkingValid","squareValid","length","validateForm","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\nimport './edit-property.css'\nimport InnerPageBanner from '../../layout/InnerPageBanner';\n\nclass EditProperty extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      description: \"\",\n      address: \"\",\n      price: 0,\n      square: 0,\n      number_of_bedrooms: 0,\n      number_of_bathrooms: 0,\n      number_of_car_parking: 0,\n      valid: {\n        price: false,\n        square: false,\n        number_of_bedrooms: false,\n        number_of_bathrooms: false,\n        number_of_car_parking: false\n      },\n      formValid: false\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(\"/api/properties/property/\" + this.props.match.params.id)\n      .then((response) => {\n        const { name, description, address, price, square, number_of_bedrooms, number_of_bathrooms, number_of_car_parking } = response.data;\n        this.setState({\n          name: name,\n          description: description,\n          address: address,\n          price: price,\n          square: square,\n          number_of_bedrooms: number_of_bedrooms,\n          number_of_bathrooms: number_of_bathrooms,\n          number_of_car_parking: number_of_car_parking,\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  validateField(field, value) {\n    const data = [...this.state.valid];\n    const priceValid = data.price;\n    const bedroomsValid = data.number_of_bedrooms;\n    const bathroomsValid = data.number_of_bathrooms;\n    const carparkingValid = data.number_of_car_parking;\n    const squareValid = data.square;\n\n    switch (field) {\n      case 'price':\n        priceValid = value.length >= 0\n        break;\n      case 'number_of_bedrooms':\n        bedroomsValid = value.length >= 0\n        break;\n      case 'number_of_bathrooms':\n        bathroomsValid = value.length >= 0\n        break;\n      case 'number_of_car_parking':\n        carparkingValid = value.length >= 0\n        break;\n      case 'square':\n        squareValid = value.length >= 0\n        break;\n    }\n    this.setState({\n      valid: {\n        price: priceValid,\n        square: squareValid,\n        number_of_bedrooms: bedroomsValid,\n        number_of_bathrooms: bathroomsValid,\n        number_of_car_parking: carparkingValid\n      }\n    }, )\n  }\n\n  validateForm() {\n    const { price, square, number_of_bedrooms, number_of_bathrooms, number_of_car_parking } = this.state.valid;\n    this.setState({formValid: price && square && number_of_bedrooms && number_of_bathrooms && number_of_car_parking});\n  }\n\n  onChange = (e) => {\n    const { name, value } = e.target.value;\n    this.setState({ [name]: value }, () => this.validateField(name, value));\n    console.log(this.state.va)\n  };\n\n  onAddClick = (e) => {\n    e.preventDefault();\n\n    const property = {\n      name: this.state.name,\n      lastname: this.state.lastname,\n      description: this.state.description,\n      address: this.state.address,\n      price: this.state.price,\n      square: this.state.square,\n      number_of_bedrooms: this.state.number_of_bedrooms,\n      number_of_bathrooms: this.state.number_of_bathrooms,\n      number_of_car_parking: this.state.number_of_car_parking,\n    };\n\n    axios\n      .put(`/api/properties/property/${this.props.match.params.id}/edit`, property)\n      .then((res) => {\n        this.props.history.push(\"/property/\" + this.props.match.params.id)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <>\n        <InnerPageBanner />\n        <section className=\"contact_form py-5\">\n          <div className=\"container\">\n            <div className=\"heading\">\n              <h1 className=\"heading text-capitalize mb-5 pb-3\">\n                <span>Редактирование</span> Объекта\n              </h1>\n              <h4 className=\"position cont\">Объекты</h4>\n            </div>\n            <form noValidate onSubmit={this.onAddClick}>\n              <div className=\"input-w3ls w3ls-left\">\n                <input\n                  type=\"text\"\n                  value={this.state.name}\n                  onChange={this.onChange}\n                  className=\"name\"\n                  name=\"name\"\n                  id=\"name\"\n                  placeholder=\"Имя\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls w3ls-rght\">\n                <input\n                  type=\"text\"\n                  value={this.state.address}\n                  onChange={this.onChange}\n                  className=\"name\"\n                  name=\"address\"\n                  placeholder=\"Адрес\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls w3ls-left\">\n                <span class=\"text-muted\">Цена</span>\n                <br />\n                <input\n                  type=\"number\"\n                  value={this.state.price}\n                  onChange={this.onChange}\n                  className=\"number\"\n                  name=\"price\"\n                  id=\"price\"\n                  placeholder=\"цена\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls w3ls-rght\">\n                <span class=\"text-muted\">Количество спален</span>\n                <br />\n                <input\n                  type=\"number\"\n                  value={this.state.number_of_bedrooms}\n                  onChange={this.onChange}\n                  className=\"number\"\n                  name=\"number_of_bedrooms\"\n                  id=\"number_of_bedrooms\"\n                  placeholder=\"кол-во спален\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls w3ls-left\">\n                <span class=\"text-muted\">Количество парковочных мест</span>\n                <br />\n                <input\n                  type=\"number\"\n                  value={this.state.number_of_car_parking}\n                  onChange={this.onChange}\n                  className=\"number\"\n                  name=\"number_of_car_parking\"\n                  id=\"number_of_car_parking\"\n                  placeholder=\"парковочные места\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls w3ls-rght\">\n                <span class=\"text-muted\">Количество ванных комнат</span>\n                <br />\n                <input\n                  type=\"number\"\n                  value={this.state.number_of_bathrooms}\n                  onChange={this.onChange}\n                  className=\"number\"\n                  name=\"number_of_bathrooms\"\n                  id=\"number_of_bathrooms\"\n                  placeholder=\"Количество ванных комнат\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls w3ls-left\">\n                <span class=\"text-muted\">Площадь</span>\n                <br />\n                <input\n                  type=\"number\"\n                  value={this.state.square}\n                  onChange={this.onChange}\n                  className=\"number\"\n                  name=\"square\"\n                  id=\"square\"\n                  placeholder=\"Площадь\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls\">\n                <textarea\n                  placeholder=\"Описание\"\n                  value={this.state.description}\n                  onChange={this.onChange}\n                  name=\"description\"\n                  id=\"description\"\n                  required\n                />\n              </div>\n              <div className=\"input-w3ls\">\n                <input type=\"submit\" disabled={!this.state.formValid} value=\"Подтвердить\" />\n              </div>\n            </form>\n          </div>\n        </section>\n      </>\n    )\n  }\n}\n\nexport default EditProperty;"]},"metadata":{},"sourceType":"module"}